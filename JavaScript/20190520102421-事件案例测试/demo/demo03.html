<script>
    function formatTime(x) {
        if (x < 10) {
            return "0" + x;
        } else {
            return x;
        }
    }
    function getTime() {
        var time = new Date(),
            year = time.getFullYear(),
            month = formatTime(time.getMonth() + 1),
            date = formatTime(time.getDate()),
            hours = formatTime(time.getHours()),
            minutes = formatTime(time.getMinutes()),
            seconds = formatTime(time.getSeconds());
        var str =
            "" +
            year +
            "-" +
            month +
            "-" +
            date +
            " " +
            hours +
            ":" +
            minutes +
            ":" +
            seconds;
        return str;
    }
    window.onload = function() {
        var btn = document.createElement("button");
        btn.textContent = "增加li元素";
        document.body.appendChild(btn);
        var ul = document.createElement("ul");
        document.body.appendChild(ul);

        function clickFn() {
            var lis = document.querySelectorAll("li");
            if (lis.length == 10) {
                btn.removeEventListener("click", clickFn);
                return false;
            }

            var li = document.createElement("li");
            li.textContent = getTime();
            ul.appendChild(li);
        }
        btn.addEventListener("click", clickFn);
    };
</script>
